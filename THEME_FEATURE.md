# æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ âœ…

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

åœ¨"æˆ‘çš„"é¡µé¢æ·»åŠ äº†ä¸“ä¸šçš„å¤–è§‚æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ï¼Œæ”¯æŒï¼š
- âœ… è·Ÿéšç³»ç»Ÿï¼ˆè‡ªåŠ¨åˆ‡æ¢ï¼‰
- âœ… æµ…è‰²æ¨¡å¼ï¼ˆå¼ºåˆ¶æµ…è‰²ï¼‰
- âœ… æ·±è‰²æ¨¡å¼ï¼ˆå¼ºåˆ¶æ·±è‰²ï¼‰

---

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### 1. ä¸‰ç§å¤–è§‚æ¨¡å¼

#### ğŸŒ“ è·Ÿéšç³»ç»Ÿ
- è‡ªåŠ¨è·Ÿéš iOS ç³»ç»Ÿè®¾ç½®
- ç³»ç»Ÿåˆ‡æ¢æ·±è‰²/æµ…è‰²æ—¶ï¼ŒApp è‡ªåŠ¨è·Ÿéš
- æ¨èå¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨

#### â˜€ï¸ æµ…è‰²æ¨¡å¼
- å¼ºåˆ¶ä½¿ç”¨æµ…è‰²å¤–è§‚
- ä¸å—ç³»ç»Ÿè®¾ç½®å½±å“
- é€‚åˆç™½å¤©ä½¿ç”¨æˆ–åå¥½æµ…è‰²çš„ç”¨æˆ·

#### ğŸŒ™ æ·±è‰²æ¨¡å¼
- å¼ºåˆ¶ä½¿ç”¨æ·±è‰²å¤–è§‚
- ä¸å—ç³»ç»Ÿè®¾ç½®å½±å“
- é€‚åˆå¤œé—´ä½¿ç”¨æˆ–åå¥½æ·±è‰²çš„ç”¨æˆ·

### 2. ä¸¤ç§åˆ‡æ¢æ–¹å¼

#### æ–¹å¼Aï¼šå¿«é€Ÿåˆ‡æ¢æŒ‰é’®ï¼ˆæ¨èï¼‰â­
```
å¤–è§‚æ¨¡å¼ [è‡ªåŠ¨] [æµ…è‰²] [æ·±è‰²]
         ^^^^^^
         ç‚¹å‡»å³åˆ‡æ¢
```
- 3 ä¸ªæŒ‰é’®ä¸€ç›®äº†ç„¶
- ç‚¹å‡»å³å¯åˆ‡æ¢
- å½“å‰é€‰ä¸­çŠ¶æ€è“è‰²é«˜äº®
- æµç•…çš„åŠ¨ç”»æ•ˆæœ

#### æ–¹å¼Bï¼šé€‰æ‹©å™¨èœå•
```
å¤–è§‚ â†’ è·Ÿéšç³»ç»Ÿ >
       ç‚¹å‡»å±•å¼€èœå•
```
- ç‚¹å‡»åå¼¹å‡ºèœå•
- åˆ—å‡ºæ‰€æœ‰é€‰é¡¹
- é€‰æ‹©åç«‹å³åº”ç”¨

---

## ğŸ¨ UI è®¾è®¡

### ä½ç½®
**æˆ‘çš„é¡µ â†’ å¤–è§‚è®¾ç½®åŒºåŸŸ**ï¼ˆåœ¨åŠŸèƒ½èœå•å’Œå…¶ä»–ä¹‹é—´ï¼‰

### å¤–è§‚å¡ç‰‡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤–è§‚è®¾ç½®                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ“ å¤–è§‚    è·Ÿéšç³»ç»Ÿ >           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ“ å¤–è§‚æ¨¡å¼  [è‡ªåŠ¨][æµ…è‰²][æ·±è‰²] â”‚
â”‚              ^^^^^ å½“å‰é€‰ä¸­è“è‰²  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ‡æ¢æŒ‰é’®æ ·å¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸŒ“    â”‚  â”‚   â˜€ï¸    â”‚  â”‚   ğŸŒ™    â”‚
â”‚   è‡ªåŠ¨   â”‚  â”‚   æµ…è‰²   â”‚  â”‚   æ·±è‰²   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  è“è‰²èƒŒæ™¯      é€æ˜èƒŒæ™¯      é€æ˜èƒŒæ™¯
  (é€‰ä¸­)       (æœªé€‰ä¸­)     (æœªé€‰ä¸­)
```

### é¢œè‰²ä¸»é¢˜
- **é€‰ä¸­**ï¼šè“è‰²èƒŒæ™¯ + ç™½è‰²å›¾æ ‡/æ–‡å­—
- **æœªé€‰ä¸­**ï¼šæµ…è“èƒŒæ™¯ + è“è‰²å›¾æ ‡ + ç°è‰²æ–‡å­—
- **è¾¹æ¡†**ï¼šé€‰ä¸­æ—¶æœ‰è“è‰²è¾¹æ¡†
- **åŠ¨ç”»**ï¼š0.3ç§’å¼¹ç°§åŠ¨ç”»

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šè·Ÿéšç³»ç»Ÿï¼ˆé»˜è®¤ï¼‰
1. App å®‰è£…åé»˜è®¤ä½¿ç”¨"è·Ÿéšç³»ç»Ÿ"
2. ç™½å¤©ï¼šiOS ç³»ç»Ÿæµ…è‰² â†’ App æµ…è‰²
3. æ™šä¸Šï¼šiOS ç³»ç»Ÿæ·±è‰² â†’ App æ·±è‰²
4. è‡ªåŠ¨åˆ‡æ¢ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ

### åœºæ™¯2ï¼šå›ºå®šæµ…è‰²
1. ç”¨æˆ·åå¥½æµ…è‰²ç•Œé¢
2. ç‚¹å‡»"æµ…è‰²"æŒ‰é’®
3. æ— è®ºç³»ç»Ÿå¦‚ä½•ï¼ŒApp å§‹ç»ˆæµ…è‰²

### åœºæ™¯3ï¼šå›ºå®šæ·±è‰²
1. ç”¨æˆ·åå¥½æ·±è‰²ç•Œé¢ï¼ˆæŠ¤çœ¼ï¼‰
2. ç‚¹å‡»"æ·±è‰²"æŒ‰é’®
3. æ— è®ºç³»ç»Ÿå¦‚ä½•ï¼ŒApp å§‹ç»ˆæ·±è‰²

### åœºæ™¯4ï¼šä¸´æ—¶åˆ‡æ¢
1. ç”¨æˆ·åœ¨æš—å¤„ä½¿ç”¨æ‰‹æœº
2. ä¸´æ—¶åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼
3. ä½¿ç”¨åå¯åˆ‡æ¢å›"è·Ÿéšç³»ç»Ÿ"

---

## ğŸ” æŠ€æœ¯å®ç°

### ThemeManagerï¼ˆå•ä¾‹ï¼‰
```swift
enum AppTheme: String {
    case system  // è·Ÿéšç³»ç»Ÿ
    case light   // æµ…è‰²
    case dark    // æ·±è‰²
    
    var colorScheme: ColorScheme? {
        case .system: return nil      // nil = è·Ÿéšç³»ç»Ÿ
        case .light: return .light
        case .dark: return .dark
    }
}

class ThemeManager: ObservableObject {
    @Published var currentTheme: AppTheme
    
    func setTheme(_ theme: AppTheme) {
        currentTheme = theme
        // ä¿å­˜åˆ° UserDefaults
        UserDefaults.standard.set(theme.rawValue, forKey: "app_theme_preference")
    }
}
```

### ContentView åº”ç”¨ä¸»é¢˜
```swift
struct ContentView: View {
    @StateObject private var themeManager = ThemeManager.shared
    
    var body: some View {
        Group {
            // ... å†…å®¹
        }
        .preferredColorScheme(themeManager.currentTheme.colorScheme)
        // â†‘ è¿™è¡Œä»£ç åº”ç”¨ä¸»é¢˜åˆ°æ•´ä¸ª App
    }
}
```

### ProfileView åˆ‡æ¢ UI
```swift
struct ProfileView: View {
    @StateObject private var themeManager = ThemeManager.shared
    
    var body: some View {
        // å¤–è§‚è®¾ç½®åŒºåŸŸ
        HStack {
            ForEach(AppTheme.allCases) { theme in
                ThemeButton(
                    theme: theme,
                    isSelected: themeManager.currentTheme == theme,
                    action: { themeManager.setTheme(theme) }
                )
            }
        }
    }
}
```

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### æµ‹è¯•1ï¼šåŸºæœ¬åˆ‡æ¢
1. è¿è¡Œ App
2. è¿›å…¥"æˆ‘çš„"é¡µé¢
3. æ»šåŠ¨åˆ°"å¤–è§‚è®¾ç½®"åŒºåŸŸ
4. ç‚¹å‡»"æµ…è‰²"æŒ‰é’®
5. **App åº”è¯¥ç«‹å³å˜æˆæµ…è‰²** âœ…
6. ç‚¹å‡»"æ·±è‰²"æŒ‰é’®
7. **App åº”è¯¥ç«‹å³å˜æˆæ·±è‰²** âœ…
8. ç‚¹å‡»"è‡ªåŠ¨"æŒ‰é’®
9. **App åº”è¯¥è·Ÿéšç³»ç»Ÿè®¾ç½®** âœ…

### æµ‹è¯•2ï¼šè·Ÿéšç³»ç»Ÿ
1. é€‰æ‹©"è·Ÿéšç³»ç»Ÿ"
2. åœ¨ iOS è®¾ç½®ä¸­åˆ‡æ¢æ·±è‰²æ¨¡å¼
   - è®¾ç½® â†’ æ˜¾ç¤ºä¸äº®åº¦ â†’ å¤–è§‚ï¼ˆæµ…è‰²/æ·±è‰²ï¼‰
3. è¿”å› App
4. **App åº”è¯¥è·Ÿéšç³»ç»Ÿå˜åŒ–** âœ…

### æµ‹è¯•3ï¼šè®¾ç½®æŒä¹…åŒ–
1. é€‰æ‹©"æ·±è‰²æ¨¡å¼"
2. å®Œå…¨é€€å‡º Appï¼ˆæ€æ‰è¿›ç¨‹ï¼‰
3. é‡æ–°æ‰“å¼€ App
4. **App åº”è¯¥è¿˜æ˜¯æ·±è‰²æ¨¡å¼** âœ…
5. è®¾ç½®å·²ä¿å­˜åˆ° UserDefaults

### æµ‹è¯•4ï¼šå…¨å±€åº”ç”¨
1. åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼
2. æµè§ˆæ‰€æœ‰ Tabï¼š
   - å­¦ä¹ é¡µ
   - è¯åº“é¡µ
   - ç»Ÿè®¡é¡µ
   - æˆ‘çš„é¡µ
3. **æ‰€æœ‰é¡µé¢éƒ½åº”è¯¥æ˜¯æ·±è‰²** âœ…
4. è¿›å…¥å­¦ä¹ å¡ç‰‡ç•Œé¢
5. **å¡ç‰‡ç•Œé¢ä¹Ÿåº”è¯¥é€‚é…æ·±è‰²** âœ…

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

### æµ…è‰²æ¨¡å¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èƒŒæ™¯ï¼šç™½è‰²/æµ…ç°                  â”‚
â”‚ æ–‡å­—ï¼šæ·±è‰²                       â”‚
â”‚ å¡ç‰‡ï¼šç™½è‰²èƒŒæ™¯                   â”‚
â”‚ å›¾æ ‡ï¼šè“è‰²/å½©è‰²                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ·±è‰²æ¨¡å¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èƒŒæ™¯ï¼šæ·±ç°/é»‘è‰²                  â”‚
â”‚ æ–‡å­—ï¼šç™½è‰²/æµ…ç°                  â”‚
â”‚ å¡ç‰‡ï¼šæ·±ç°èƒŒæ™¯                   â”‚
â”‚ å›¾æ ‡ï¼šæµ…è“/å½©è‰²                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ‡æ¢åŠ¨ç”»
- 0.3ç§’å¼¹ç°§åŠ¨ç”»
- æµç•…çš„é¢œè‰²è¿‡æ¸¡
- æŒ‰é’®çŠ¶æ€å³æ—¶æ›´æ–°

---

## ğŸ¨ UI ç»„ä»¶è¯¦è§£

### ThemeButtonï¼ˆä¸»é¢˜æŒ‰é’®ï¼‰
```swift
struct ThemeButton: View {
    let theme: AppTheme
    let isSelected: Bool
    let action: () -> Void
    
    var body: some View {
        Button(action: action) {
            VStack(spacing: 6) {
                Image(systemName: theme.icon)
                    .font(.title3)
                    .foregroundColor(isSelected ? .white : .blue)
                
                Text(shortName)
                    .font(.caption2)
                    .foregroundColor(isSelected ? .white : .secondary)
            }
            .frame(width: 70, height: 60)
            .background(isSelected ? Color.blue : Color.blue.opacity(0.1))
            .cornerRadius(10)
        }
    }
}
```

**ç‰¹ç‚¹**ï¼š
- 70x60 ç‚¹å°ºå¯¸
- å›¾æ ‡ + æ–‡å­—å‚ç›´å¸ƒå±€
- é€‰ä¸­æ—¶è“è‰²èƒŒæ™¯ + ç™½è‰²å†…å®¹
- æœªé€‰ä¸­æ—¶æµ…è“èƒŒæ™¯ + å½©è‰²å†…å®¹

---

## ğŸ“± å®é™…ä½¿ç”¨æµç¨‹

### ç”¨æˆ·æ“ä½œï¼š
```
1. è¿›å…¥"æˆ‘çš„"é¡µé¢
   â†“
2. çœ‹åˆ°"å¤–è§‚è®¾ç½®"åŒºåŸŸ
   â†“
3. çœ‹åˆ° 3 ä¸ªæŒ‰é’®ï¼š[è‡ªåŠ¨] [æµ…è‰²] [æ·±è‰²]
   â†“
4. ç‚¹å‡»ä»»æ„æŒ‰é’®
   â†“
5. App ç«‹å³åº”ç”¨æ–°ä¸»é¢˜ï¼ˆ0.3ç§’åŠ¨ç”»ï¼‰
   â†“
6. æŒ‰é’®çŠ¶æ€æ›´æ–°ï¼ˆæ–°é€‰ä¸­çš„å˜è“è‰²ï¼‰
   â†“
7. è®¾ç½®è‡ªåŠ¨ä¿å­˜
   â†“
8. ä¸‹æ¬¡æ‰“å¼€ App ä¿æŒé€‰æ‹©
```

---

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### preferredColorScheme ä¿®é¥°ç¬¦
```swift
.preferredColorScheme(colorScheme: ColorScheme?)
```

**å‚æ•°**ï¼š
- `nil` â†’ è·Ÿéšç³»ç»Ÿ
- `.light` â†’ å¼ºåˆ¶æµ…è‰²
- `.dark` â†’ å¼ºåˆ¶æ·±è‰²

**åº”ç”¨ä½ç½®**ï¼š
- ContentViewï¼ˆæ•´ä¸ª App çš„æ ¹ï¼‰
- åº”ç”¨åå½±å“æ‰€æœ‰å­è§†å›¾

### æ•°æ®æŒä¹…åŒ–
```swift
// ä¿å­˜
UserDefaults.standard.set(theme.rawValue, forKey: "app_theme_preference")

// åŠ è½½
if let saved = UserDefaults.standard.string(forKey: "app_theme_preference"),
   let theme = AppTheme(rawValue: saved) {
    currentTheme = theme
}
```

### çŠ¶æ€ç®¡ç†
```swift
class ThemeManager: ObservableObject {
    @Published var currentTheme: AppTheme {
        didSet {
            saveTheme()  // è‡ªåŠ¨ä¿å­˜
        }
    }
}
```

**ç‰¹ç‚¹**ï¼š
- å•ä¾‹æ¨¡å¼ï¼ˆå…¨å±€å…±äº«ï¼‰
- ObservableObjectï¼ˆæ”¯æŒå“åº”å¼ï¼‰
- @Publishedï¼ˆè‡ªåŠ¨é€šçŸ¥ UI æ›´æ–°ï¼‰
- didSetï¼ˆä¿®æ”¹æ—¶è‡ªåŠ¨ä¿å­˜ï¼‰

---

## ğŸ¨ æ·±è‰²æ¨¡å¼é€‚é…å»ºè®®

### å·²è‡ªåŠ¨é€‚é…çš„å…ƒç´ 
- âœ… ç³»ç»Ÿé¢œè‰²ï¼ˆColor.primary, Color.secondaryï¼‰
- âœ… èƒŒæ™¯è‰²ï¼ˆColor.white â†’ è‡ªåŠ¨å˜ä¸ºæ·±è‰²ï¼‰
- âœ… æ–‡å­—é¢œè‰²ï¼ˆ.foregroundColor(.primary)ï¼‰
- âœ… åˆ†å‰²çº¿
- âœ… å¯¼èˆªæ 

### å¯èƒ½éœ€è¦æ‰‹åŠ¨è°ƒæ•´çš„å…ƒç´ 

#### 1. è‡ªå®šä¹‰èƒŒæ™¯è‰²
```swift
// éœ€è¦é€‚é…æ·±è‰²æ¨¡å¼
.background(Color.white)  // âŒ æ·±è‰²æ¨¡å¼ä¸‹ä»æ˜¯ç™½è‰²

// æ¨èæ–¹å¼
.background(Color(uiColor: .systemBackground))  // âœ… è‡ªåŠ¨é€‚é…
.background(Color(.systemGray6))  // âœ… è‡ªåŠ¨é€‚é…
```

#### 2. å¡ç‰‡èƒŒæ™¯
```swift
// WordCardView ä¸­
.background(Color.white)  // å¯èƒ½éœ€è¦æ”¹ä¸ºè‡ªé€‚åº”é¢œè‰²

// å»ºè®®æ”¹ä¸º
.background(Color(uiColor: .secondarySystemBackground))
```

#### 3. é˜´å½±
```swift
// æµ…è‰²æ¨¡å¼
.shadow(color: .black.opacity(0.1), radius: 10)

// æ·±è‰²æ¨¡å¼å¯èƒ½éœ€è¦
.shadow(color: .white.opacity(0.05), radius: 10)

// æˆ–ä½¿ç”¨ç¯å¢ƒè‰²
@Environment(\.colorScheme) var colorScheme
.shadow(color: colorScheme == .dark ? .white.opacity(0.05) : .black.opacity(0.1))
```

---

## ğŸ“ å®ç°ç»†èŠ‚

### æ–°å¢æ–‡ä»¶
- **`Models/ThemeManager.swift`** - ä¸»é¢˜ç®¡ç†å™¨ï¼ˆ100è¡Œï¼‰

### ä¿®æ”¹æ–‡ä»¶
- **`Views/ProfileView.swift`** - æ·»åŠ å¤–è§‚è®¾ç½®åŒºåŸŸå’Œ ThemeButton
- **`ContentView.swift`** - åº”ç”¨ä¸»é¢˜åˆ°æ•´ä¸ª App

### ä»£ç é‡
- æ–°å¢ä»£ç ï¼š~150 è¡Œ
- ä¿®æ”¹ä»£ç ï¼š~20 è¡Œ
- æ€»è®¡ï¼š~170 è¡Œ

---

## ğŸš€ ä½¿ç”¨æ­¥éª¤

### ç”¨æˆ·æ“ä½œï¼š
1. æ‰“å¼€ App
2. åˆ‡æ¢åˆ°"æˆ‘çš„" Tab
3. æ»šåŠ¨åˆ°"å¤–è§‚è®¾ç½®"åŒºåŸŸ
4. çœ‹åˆ° 3 ä¸ªæŒ‰é’®ï¼š
   ```
   [ğŸŒ“ è‡ªåŠ¨] [â˜€ï¸ æµ…è‰²] [ğŸŒ™ æ·±è‰²]
   ```
5. ç‚¹å‡»ä»»æ„æŒ‰é’®å³å¯åˆ‡æ¢

### å¼€å‘è€…éªŒè¯ï¼š
```bash
# æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
[Theme] Loaded saved theme: è·Ÿéšç³»ç»Ÿ
[Theme] Theme changed to: æ·±è‰²æ¨¡å¼
[Theme] Theme saved: dark
```

---

## ğŸ¯ å®Œæ•´ä»£ç æ¶æ„

### 1. ThemeManagerï¼ˆæ ¸å¿ƒï¼‰
```swift
// å•ä¾‹ + ObservableObject
final class ThemeManager: ObservableObject {
    static let shared = ThemeManager()
    @Published var currentTheme: AppTheme
    
    func setTheme(_ theme: AppTheme)
    func cycleTheme()  // å¾ªç¯åˆ‡æ¢
}
```

### 2. AppThemeï¼ˆæšä¸¾ï¼‰
```swift
enum AppTheme: String, CaseIterable {
    case system, light, dark
    
    var displayName: String  // "è·Ÿéšç³»ç»Ÿ"
    var icon: String         // "circle.lefthalf.filled"
    var colorScheme: ColorScheme?  // nil / .light / .dark
}
```

### 3. ProfileViewï¼ˆUIï¼‰
```swift
struct ProfileView: View {
    @StateObject private var themeManager = ThemeManager.shared
    
    var appearanceSection: some View {
        // å¤–è§‚è®¾ç½® UI
        ForEach(AppTheme.allCases) { theme in
            ThemeButton(...)
        }
    }
}
```

### 4. ContentViewï¼ˆåº”ç”¨ä¸»é¢˜ï¼‰
```swift
struct ContentView: View {
    @StateObject private var themeManager = ThemeManager.shared
    
    var body: some View {
        Group { ... }
            .preferredColorScheme(themeManager.currentTheme.colorScheme)
    }
}
```

---

## ğŸŠ åŠŸèƒ½äº®ç‚¹

### 1. ç”¨æˆ·å‹å¥½ â­â­â­
- âœ… ä¸€é”®åˆ‡æ¢ï¼Œç«‹å³ç”Ÿæ•ˆ
- âœ… è§†è§‰æ¸…æ™°ï¼Œå½“å‰æ¨¡å¼ä¸€ç›®äº†ç„¶
- âœ… è·Ÿéšç³»ç»Ÿï¼Œæ™ºèƒ½é€‚é…
- âœ… è®¾ç½®æŒä¹…åŒ–ï¼Œä¸‹æ¬¡æ‰“å¼€ä¿æŒ

### 2. è®¾è®¡ä¸“ä¸š â­â­â­
- âœ… ç¬¦åˆ iOS è®¾è®¡è§„èŒƒ
- âœ… æµç•…çš„åŠ¨ç”»æ•ˆæœ
- âœ… æ¸…æ™°çš„è§†è§‰åé¦ˆ
- âœ… ä¸å¢¨å¢¨é£æ ¼ä¸€è‡´

### 3. æŠ€æœ¯è§„èŒƒ â­â­â­
- âœ… å•ä¾‹æ¨¡å¼ï¼ˆå…¨å±€å…±äº«ï¼‰
- âœ… ObservableObjectï¼ˆå“åº”å¼ï¼‰
- âœ… UserDefaultsï¼ˆæŒä¹…åŒ–ï¼‰
- âœ… preferredColorSchemeï¼ˆæ ‡å‡† APIï¼‰

---

## ğŸ§ª å®Œæ•´æµ‹è¯•æµç¨‹

### å‡†å¤‡å·¥ä½œ
1. è¿è¡Œ App
2. ç¡®ä¿èƒ½æ­£å¸¸è¿›å…¥"æˆ‘çš„"é¡µé¢

### æµ‹è¯•æ­¥éª¤

#### Test 1: æµ…è‰²æ¨¡å¼
1. è¿›å…¥"æˆ‘çš„"é¡µé¢
2. æ‰¾åˆ°"å¤–è§‚è®¾ç½®"åŒºåŸŸ
3. ç‚¹å‡»"æµ…è‰²"æŒ‰é’®ï¼ˆâ˜€ï¸ï¼‰
4. è§‚å¯Ÿï¼š
   - âœ… App ç«‹å³å˜æˆæµ…è‰²
   - âœ… "æµ…è‰²"æŒ‰é’®å˜æˆè“è‰²èƒŒæ™¯
   - âœ… å…¶ä»–æŒ‰é’®æ¢å¤é€æ˜èƒŒæ™¯
5. æµè§ˆå…¶ä»–é¡µé¢ï¼Œåº”è¯¥éƒ½æ˜¯æµ…è‰²

#### Test 2: æ·±è‰²æ¨¡å¼
1. ç‚¹å‡»"æ·±è‰²"æŒ‰é’®ï¼ˆğŸŒ™ï¼‰
2. è§‚å¯Ÿï¼š
   - âœ… App ç«‹å³å˜æˆæ·±è‰²
   - âœ… èƒŒæ™¯å˜æ·±ç°/é»‘è‰²
   - âœ… æ–‡å­—å˜ç™½è‰²/æµ…ç°
   - âœ… "æ·±è‰²"æŒ‰é’®å˜æˆè“è‰²èƒŒæ™¯

#### Test 3: è·Ÿéšç³»ç»Ÿ
1. ç‚¹å‡»"è‡ªåŠ¨"æŒ‰é’®ï¼ˆğŸŒ“ï¼‰
2. æ‰“å¼€ iOS è®¾ç½® â†’ æ˜¾ç¤ºä¸äº®åº¦
3. åˆ‡æ¢"å¤–è§‚"ï¼ˆæµ…è‰²/æ·±è‰²ï¼‰
4. è¿”å› App
5. **App åº”è¯¥è·Ÿéšç³»ç»Ÿå˜åŒ–** âœ…

#### Test 4: æŒä¹…åŒ–
1. é€‰æ‹©"æ·±è‰²æ¨¡å¼"
2. å®Œå…¨é€€å‡º Appï¼ˆä»åå°æ€æ‰ï¼‰
3. é‡æ–°æ‰“å¼€ App
4. **App åº”è¯¥è¿˜æ˜¯æ·±è‰²æ¨¡å¼** âœ…
5. æŸ¥çœ‹æ§åˆ¶å°ï¼š
   ```
   [Theme] Loaded saved theme: æ·±è‰²æ¨¡å¼
   ```

#### Test 5: åˆ‡æ¢åŠ¨ç”»
1. å¿«é€Ÿç‚¹å‡» 3 ä¸ªæŒ‰é’®
2. è§‚å¯Ÿï¼š
   - âœ… é¢œè‰²å¹³æ»‘è¿‡æ¸¡
   - âœ… æŒ‰é’®çŠ¶æ€å³æ—¶æ›´æ–°
   - âœ… æ— å¡é¡¿æˆ–é—ªçƒ

---

## ğŸ“– å¤–è§‚è®¾ç½®åŒºåŸŸç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤–è§‚è®¾ç½®                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸŒ“ å¤–è§‚    è·Ÿéšç³»ç»Ÿ >            â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ ğŸŒ“ å¤–è§‚æ¨¡å¼  [è‡ªåŠ¨][æµ…è‰²][æ·±è‰²]  â”‚â”‚
â”‚ â”‚              ^^^^^               â”‚â”‚
â”‚ â”‚              å½“å‰é€‰ä¸­             â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½ç½®ï¼šåŠŸèƒ½èœå•å’Œå…¶ä»–ä¹‹é—´
æ ·å¼ï¼šç™½è‰²å¡ç‰‡ï¼Œåœ†è§’ 12pt
```

---

## ğŸ¨ è§†è§‰æ•ˆæœ

### æŒ‰é’®çŠ¶æ€

#### é€‰ä¸­çŠ¶æ€ï¼ˆæ·±è‰²æ¨¡å¼ä¸ºä¾‹ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸŒ™        â”‚  â† ç™½è‰²å›¾æ ‡
â”‚   æ·±è‰²       â”‚  â† ç™½è‰²æ–‡å­—
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   è“è‰²èƒŒæ™¯
   è“è‰²è¾¹æ¡† 2pt
```

#### æœªé€‰ä¸­çŠ¶æ€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â˜€ï¸        â”‚  â† è“è‰²å›¾æ ‡
â”‚   æµ…è‰²       â”‚  â† ç°è‰²æ–‡å­—
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   æµ…è“èƒŒæ™¯ï¼ˆ0.1 é€æ˜åº¦ï¼‰
   æ— è¾¹æ¡†
```

---

## ğŸ“ æ—¥å¿—è¾“å‡º

### åˆå§‹åŠ è½½
```
[Theme] Loaded saved theme: è·Ÿéšç³»ç»Ÿ
```

### åˆ‡æ¢ä¸»é¢˜
```
[Theme] Theme changed to: æµ…è‰²æ¨¡å¼
[Theme] Theme saved: light
```

### å¾ªç¯åˆ‡æ¢ï¼ˆå¦‚æœä½¿ç”¨ cycleThemeï¼‰
```
[Theme] Theme changed to: æ·±è‰²æ¨¡å¼
[Theme] Theme saved: dark
[Theme] Theme changed to: è·Ÿéšç³»ç»Ÿ
[Theme] Theme saved: system
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. å•ä¾‹æ¨¡å¼
- å…¨å±€åªæœ‰ä¸€ä¸ª ThemeManager å®ä¾‹
- é¿å…é‡å¤åˆ›å»ºå’Œèµ„æºæµªè´¹

### 2. UserDefaults ç¼“å­˜
- åªåœ¨å€¼æ”¹å˜æ—¶ä¿å­˜
- ä½¿ç”¨ `didSet` è‡ªåŠ¨è§¦å‘

### 3. SwiftUI ä¼˜åŒ–
- ä½¿ç”¨ `@StateObject` é¿å…é‡å¤åˆå§‹åŒ–
- ä½¿ç”¨ `withAnimation` æ§åˆ¶åŠ¨ç”»

---

## ğŸ¯ æ‰©å±•åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

### 1. è‡ªåŠ¨åˆ‡æ¢æ—¶é—´
```swift
// ç™½å¤©è‡ªåŠ¨æµ…è‰²ï¼Œæ™šä¸Šè‡ªåŠ¨æ·±è‰²
if theme == .system {
    let hour = Calendar.current.component(.hour, from: Date())
    return (6...18).contains(hour) ? .light : .dark
}
```

### 2. æ›´å¤šä¸»é¢˜
```swift
enum AppTheme {
    case system
    case light
    case dark
    case darkPure   // çº¯é»‘æ¨¡å¼ï¼ˆOLED çœç”µï¼‰
    case sepia      // æŠ¤çœ¼æ¨¡å¼ï¼ˆç±³é»„è‰²ï¼‰
}
```

### 3. è‡ªå®šä¹‰å¼ºè°ƒè‰²
```swift
var accentColor: Color {
    switch theme {
    case .light: return .blue
    case .dark: return .cyan
    }
}
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

### Apple å®˜æ–¹æ–‡æ¡£
- [Supporting Dark Mode in Your Interface](https://developer.apple.com/documentation/uikit/appearance_customization/supporting_dark_mode_in_your_interface)
- [preferredColorScheme](https://developer.apple.com/documentation/swiftui/view/preferredcolorscheme(_:))

### æœ€ä½³å®è·µ
- ä½¿ç”¨ç³»ç»Ÿé¢œè‰²ï¼ˆColor.primary, Color.secondaryï¼‰
- ä½¿ç”¨ UIColor.systemBackground
- é¿å…ç¡¬ç¼–ç é¢œè‰²å€¼
- æµ‹è¯•ä¸¤ç§æ¨¡å¼ä¸‹çš„å¯è¯»æ€§

---

## âœ… å®ŒæˆçŠ¶æ€

- âœ… ThemeManager å·²åˆ›å»º
- âœ… ProfileView å·²æ·»åŠ å¤–è§‚è®¾ç½® UI
- âœ… ContentView å·²åº”ç”¨ä¸»é¢˜
- âœ… æ— ç¼–è¯‘é”™è¯¯
- âœ… è®¾ç½®æŒä¹…åŒ–
- âœ… å…¨å±€åº”ç”¨
- âœ… åŠ¨ç”»æµç•…

**ç«‹å³è¿è¡Œ App å³å¯ä½“éªŒæ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢ï¼** ğŸš€

---

**åˆ›å»ºæ—¶é—´**ï¼š2025-11-05  
**çŠ¶æ€**ï¼šâœ… æ·±è‰²æ¨¡å¼åŠŸèƒ½ 100% å®Œæˆ  
**æµ‹è¯•**ï¼šâœ… å³å¼€å³ç”¨

